-- MySQL Script generated by MySQL Workbench
-- 11/04/15 00:26:12
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='TRADITIONAL,ALLOW_INVALID_DATES';

-- -----------------------------------------------------
-- Schema Batizviewdb
-- -----------------------------------------------------

-- -----------------------------------------------------
-- Schema Batizviewdb
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `Batizviewdb` DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ;
USE `Batizviewdb` ;

-- -----------------------------------------------------
-- Table `Batizviewdb`.`Area`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `Batizviewdb`.`Area` (
  `id_area` INT NOT NULL COMMENT '',
  `area` TINYINT(2) NOT NULL COMMENT '0= Tronco Comun\n1= Programacion\n2=MSA\n3=SD\n',
  PRIMARY KEY (`id_area`)  COMMENT '')
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `Batizviewdb`.`Persona`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `Batizviewdb`.`Persona` (
  `id_per` INT NOT NULL AUTO_INCREMENT COMMENT '',
  `nom_per` VARCHAR(20) NOT NULL COMMENT '',
  `app_per` VARCHAR(20) NOT NULL COMMENT '',
  `apm_per` VARCHAR(20) NOT NULL COMMENT '',
  `are_per` INT NOT NULL COMMENT '',
  PRIMARY KEY (`id_per`)  COMMENT '',
  INDEX `Area_idx` (`are_per` ASC)  COMMENT '',
  CONSTRAINT `Area`
    FOREIGN KEY (`are_per`)
    REFERENCES `Batizviewdb`.`Area` (`id_area`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `Batizviewdb`.`Solicitud`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `Batizviewdb`.`Solicitud` (
  `id_sol` INT NOT NULL AUTO_INCREMENT COMMENT '',
  `tip_sol` TINYINT(2) NOT NULL COMMENT '0=Nada => Activa\n1=Desactivar => Activa\n2=Alta Profesor => Espera\n3= Reactivar => Desactivada\n4= Modificar datos => Espera',
  PRIMARY KEY (`id_sol`)  COMMENT '')
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `Batizviewdb`.`Cuenta`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `Batizviewdb`.`Cuenta` (
  `id_cue` INT NOT NULL AUTO_INCREMENT COMMENT 'Boleta',
  `tip_cue` TINYINT(2) UNSIGNED NOT NULL COMMENT '0=Jefe Area\n1=Profesor\n2=Alumno',
  `edo_cue` TINYINT(2) NOT NULL COMMENT '0=Activada\n1=Desactivada\n2=Espera',
  `pas_cue` VARCHAR(20) NOT NULL COMMENT '',
  `ema_cue` VARCHAR(30) NOT NULL COMMENT '',
  `Persona_id_per` INT NOT NULL COMMENT '',
  PRIMARY KEY (`id_cue`)  COMMENT '',
  INDEX `fk_Cuenta_Persona1_idx` (`Persona_id_per` ASC)  COMMENT '',
  CONSTRAINT `fk_Cuenta_Persona1`
    FOREIGN KEY (`Persona_id_per`)
    REFERENCES `Batizviewdb`.`Persona` (`id_per`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `Batizviewdb`.`ComentarioPersonal`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `Batizviewdb`.`ComentarioPersonal` (
  `des_com` TEXT(255) NULL COMMENT '',
  `Cuenta_id_cue` INT NOT NULL COMMENT '',
  PRIMARY KEY (`Cuenta_id_cue`)  COMMENT '',
  INDEX `fk_ComentarioPersonal_Cuenta1_idx` (`Cuenta_id_cue` ASC)  COMMENT '',
  CONSTRAINT `fk_ComentarioPersonal_Cuenta1`
    FOREIGN KEY (`Cuenta_id_cue`)
    REFERENCES `Batizviewdb`.`Cuenta` (`id_cue`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `Batizviewdb`.`Aula`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `Batizviewdb`.`Aula` (
  `id_aul` INT NOT NULL AUTO_INCREMENT COMMENT '',
  `des_aul` TEXT(500) NOT NULL COMMENT '',
  `nom_aul` VARCHAR(45) NOT NULL COMMENT '',
  PRIMARY KEY (`id_aul`)  COMMENT '')
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `Batizviewdb`.`ComentarioAula`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `Batizviewdb`.`ComentarioAula` (
  `id_dca` INT NOT NULL COMMENT '',
  `dco_aul` TINYTEXT NOT NULL COMMENT '',
  `fec_coa` DATE NOT NULL COMMENT '',
  `Aula_id_aul` INT NOT NULL COMMENT '',
  PRIMARY KEY (`id_dca`)  COMMENT '',
  INDEX `fk_ComentarioAula_Aula1_idx` (`Aula_id_aul` ASC)  COMMENT '',
  CONSTRAINT `fk_ComentarioAula_Aula1`
    FOREIGN KEY (`Aula_id_aul`)
    REFERENCES `Batizviewdb`.`Aula` (`id_aul`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `Batizviewdb`.`CAula`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `Batizviewdb`.`CAula` (
  `Aula_id_aul` INT NOT NULL COMMENT '',
  `Cuenta_id_cue` INT NOT NULL COMMENT '',
  `cal_aul` INT NOT NULL COMMENT '',
  INDEX `fk_DAula_Aula1_idx` (`Aula_id_aul` ASC)  COMMENT '',
  INDEX `fk_CAula_Cuenta1_idx` (`Cuenta_id_cue` ASC)  COMMENT '',
  PRIMARY KEY (`Aula_id_aul`, `Cuenta_id_cue`)  COMMENT '',
  CONSTRAINT `fk_DAula_Aula1`
    FOREIGN KEY (`Aula_id_aul`)
    REFERENCES `Batizviewdb`.`Aula` (`id_aul`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_CAula_Cuenta1`
    FOREIGN KEY (`Cuenta_id_cue`)
    REFERENCES `Batizviewdb`.`Cuenta` (`id_cue`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `Batizviewdb`.`CalGralAula`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `Batizviewdb`.`CalGralAula` (
  `pro_cga` INT(2) NOT NULL COMMENT '',
  `CAula_Aula_id_aul` INT NOT NULL COMMENT '',
  INDEX `fk_CalGralAula_CAula1_idx` (`CAula_Aula_id_aul` ASC)  COMMENT '',
  PRIMARY KEY (`CAula_Aula_id_aul`)  COMMENT '',
  CONSTRAINT `fk_CalGralAula_CAula1`
    FOREIGN KEY (`CAula_Aula_id_aul`)
    REFERENCES `Batizviewdb`.`CAula` (`Aula_id_aul`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `Batizviewdb`.`Codigo`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `Batizviewdb`.`Codigo` (
  `id_dco` INT NOT NULL AUTO_INCREMENT COMMENT '',
  `cod_dco` VARCHAR(12) NOT NULL COMMENT '',
  `Aula_id_aul` INT NOT NULL COMMENT '',
  PRIMARY KEY (`id_dco`)  COMMENT '',
  INDEX `fk_Codigo_Aula1_idx` (`Aula_id_aul` ASC)  COMMENT '',
  CONSTRAINT `fk_Codigo_Aula1`
    FOREIGN KEY (`Aula_id_aul`)
    REFERENCES `Batizviewdb`.`Aula` (`id_aul`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `Batizviewdb`.`DiaHorario`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `Batizviewdb`.`DiaHorario` (
  `id_dho` INT NOT NULL AUTO_INCREMENT COMMENT '',
  `Dia` TINYTEXT NOT NULL COMMENT 'ejemplo: 4 de Marzo',
  PRIMARY KEY (`id_dho`)  COMMENT '')
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `Batizviewdb`.`HoraHorario`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `Batizviewdb`.`HoraHorario` (
  `id_hor` INT NOT NULL AUTO_INCREMENT COMMENT '',
  `Hora` INT(2) NOT NULL COMMENT '',
  PRIMARY KEY (`id_hor`)  COMMENT '')
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `Batizviewdb`.`CHorario`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `Batizviewdb`.`CHorario` (
  `Cuenta_id_cue` INT NOT NULL COMMENT '',
  `Aula_id_aul` INT NOT NULL COMMENT '',
  `DiaHorario_id_dho` INT NOT NULL COMMENT '',
  `HoraHorario_id_hor` INT NOT NULL COMMENT '',
  INDEX `fk_CHorarioP_Cuenta1_idx` (`Cuenta_id_cue` ASC)  COMMENT '',
  INDEX `fk_CHorarioP_Aula1_idx` (`Aula_id_aul` ASC)  COMMENT '',
  INDEX `fk_CHorario_DiaHorario1_idx` (`DiaHorario_id_dho` ASC)  COMMENT '',
  PRIMARY KEY (`DiaHorario_id_dho`)  COMMENT '',
  INDEX `fk_CHorario_HoraHorario1_idx` (`HoraHorario_id_hor` ASC)  COMMENT '',
  CONSTRAINT `fk_CHorarioP_Cuenta1`
    FOREIGN KEY (`Cuenta_id_cue`)
    REFERENCES `Batizviewdb`.`Cuenta` (`id_cue`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_CHorarioP_Aula1`
    FOREIGN KEY (`Aula_id_aul`)
    REFERENCES `Batizviewdb`.`Aula` (`id_aul`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_CHorario_DiaHorario1`
    FOREIGN KEY (`DiaHorario_id_dho`)
    REFERENCES `Batizviewdb`.`DiaHorario` (`id_dho`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_CHorario_HoraHorario1`
    FOREIGN KEY (`HoraHorario_id_hor`)
    REFERENCES `Batizviewdb`.`HoraHorario` (`id_hor`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `Batizviewdb`.`CSolicitud`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `Batizviewdb`.`CSolicitud` (
  `id_cso` INT NOT NULL AUTO_INCREMENT COMMENT '',
  `Cuenta_id_cue` INT NOT NULL COMMENT '',
  `Solicitud_id_sol` INT NOT NULL COMMENT '',
  PRIMARY KEY (`id_cso`)  COMMENT '',
  INDEX `fk_Dcuenta_Cuenta1_idx` (`Cuenta_id_cue` ASC)  COMMENT '',
  INDEX `fk_Dcuenta_Solicitud1_idx` (`Solicitud_id_sol` ASC)  COMMENT '',
  CONSTRAINT `fk_Dcuenta_Cuenta1`
    FOREIGN KEY (`Cuenta_id_cue`)
    REFERENCES `Batizviewdb`.`Cuenta` (`id_cue`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Dcuenta_Solicitud1`
    FOREIGN KEY (`Solicitud_id_sol`)
    REFERENCES `Batizviewdb`.`Solicitud` (`id_sol`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `Batizviewdb`.`CCodigo`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `Batizviewdb`.`CCodigo` (
  `id_cco` INT NOT NULL AUTO_INCREMENT COMMENT '',
  `Cuenta_id_cue` INT NOT NULL COMMENT '',
  `Codigo_id_dco` INT NOT NULL COMMENT '',
  INDEX `fk_CCodigo_Cuenta1_idx` (`Cuenta_id_cue` ASC)  COMMENT '',
  INDEX `fk_CCodigo_Codigo1_idx` (`Codigo_id_dco` ASC)  COMMENT '',
  PRIMARY KEY (`id_cco`)  COMMENT '',
  CONSTRAINT `fk_CCodigo_Cuenta1`
    FOREIGN KEY (`Cuenta_id_cue`)
    REFERENCES `Batizviewdb`.`Cuenta` (`id_cue`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_CCodigo_Codigo1`
    FOREIGN KEY (`Codigo_id_dco`)
    REFERENCES `Batizviewdb`.`Codigo` (`id_dco`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `Batizviewdb`.`CComentarios`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `Batizviewdb`.`CComentarios` (
  `id_cco` INT NOT NULL AUTO_INCREMENT COMMENT '',
  `ComentarioAula_id_dca` INT NOT NULL COMMENT '',
  `Cuenta_id_cue` INT NOT NULL COMMENT '',
  PRIMARY KEY (`id_cco`)  COMMENT '',
  INDEX `fk_CComentarios_ComentarioAula1_idx` (`ComentarioAula_id_dca` ASC)  COMMENT '',
  INDEX `fk_CComentarios_Cuenta1_idx` (`Cuenta_id_cue` ASC)  COMMENT '',
  CONSTRAINT `fk_CComentarios_ComentarioAula1`
    FOREIGN KEY (`ComentarioAula_id_dca`)
    REFERENCES `Batizviewdb`.`ComentarioAula` (`id_dca`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_CComentarios_Cuenta1`
    FOREIGN KEY (`Cuenta_id_cue`)
    REFERENCES `Batizviewdb`.`Cuenta` (`id_cue`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
